//
//  AgreeViewController.m
//  DataLinkDM
//
//  Created by BoHuang on 9/8/16.
//  Copyright Â© 2016 Yujin. All rights reserved.
//

#import "AgreeViewController.h"
#import "ViewController.h"
#import "HomeViewController.h"
#import "Globals.h"

@interface AgreeViewController ()

@end

@implementation AgreeViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    NSString *term = @"<html><body lang=EN-US style='tab-interval:.5in;text-justify-trim:punctuation'><div class=WordSection1><p class=MsoNormal style='margin-bottom:16.05pt;line-height:28.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:24.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Terms of Use (&quot;Terms&quot;)<o:p></o:p></span></b></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Last updated: September 12, 2016<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Please read these Terms of Use (&quot;Terms&quot;, &quot;Terms of Use&quot;) carefully before using the My MAP mobile application (the &quot;Service&quot;) operated by Duplimark, LLC (&quot;us&quot;,&quot;we&quot;, or &quot;our&quot;).<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Your access to and use of the Service is conditioned upon youracceptance of and compliance with these Terms. These Terms apply to all visitors, users and others who wish to access or use the Service.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms then you do not have permission to access the Service.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Subscriptions</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Some parts of the Service are billed on a subscription basis(&quot;Subscription(s)&quot;). You will be billed in advance on a recurring andperiodic basis (&quot;Billing Cycle&quot;). Billing cycles are set either on a monthly or annual basis, depending on the type of subscription plan you select when purchasing a Subscription.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>At the end of each Billing Cycle, your Subscription will automatically renew under the exact same conditions unless you cancel it or Duplimark, LLC cancels it. You may cancel your Subscription renewal either through your online account management page or by contacting Duplimark, LLC customer support team.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>A valid payment method, including credit card, is required toprocess the payment for your Subscription. You shall provide Duplimark, LLC with accurate and complete billing information including full name, address, state, zip code, telephone number, and a valid payment method information. By submitting such payment information, you automatically authorize Duplimark, LLC to charge all Subscription fees incurred through your account to any such payment instruments.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination: none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Should automatic billing fail to occur for any reason, Duplimark, LLC will issue an electronic invoice indicating that you must proceed manually,within a certain deadline date, with the full payment corresponding to the billing period as indicated on the invoice.<o:p></o:p></span></p> <p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Free Trial</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Duplimark, LLC may, at its sole discretion, offer a Subscription with a free trial for a limited period of time (&quot;Free Trial&quot;).<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>You may be required to enter your billing information in order tosign up for the Free Trial.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>If you do enter your billing information when signing up for the Free Trial, you will not be charged by Duplimark, LLC until the Free Trial has expired. On the last day of the Free Trial period, unless you cancelled your Subscription, you will be automatically charged the applicable Subscription fees for the type of Subscription you have selected.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>At any time and without notice, Duplimark, LLC reserves the rightto (i) modify the terms and conditions of the Free Trial offer, or (ii) cancel such Free Trial offer.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Fee Changes</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Duplimark, LLC, in its sole discretion and at any time, may modifythe Subscription fees for the Subscriptions. Any Subscription fee change will become effective at the end of the then-current Billing Cycle.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination: none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Duplimark, LLC will provide you with a reasonable prior notice of any change in Subscription fees to give you an opportunity to terminate your Subscription before such change becomes effective.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Your continued use of the Service after the Subscription fee change comes into effect constitutes your agreement to pay the modified Subscription fee amount.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Refunds</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Certain refund requests for Subscriptions may be considered by Duplimark, LLC on a case-by-case basis and granted in sole discretion of Duplimark, LLC.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Accounts</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>When you create an account with us, you guarantee that you are above the age of 18, and that the information you provide us is accurate, complete, and current at all times. Inaccurate, incomplete, or obsolete information may result in the immediate termination of your account on the Service.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination: none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size: 12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman; color:black'>You are responsible for maintaining the confidentiality of your account and password, including but not limited to the restriction of access to your computer and/or account. You agree to accept responsibility for any and all activities or actions that occur under your account and/or password, whether your password is with our Service or a third-party service. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Intellectual Property</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>The Service and its original content, features and functionality are and will remain the exclusive property of Duplimark, LLC and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries. Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of Duplimark, LLC.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Links To Other Web Sites</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Our Service may contain links to third party web sites or services that are not owned or controlled by Duplimark, LLC.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Duplimark, LLC has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>You acknowledge and agree that Duplimark, LLC shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with use of or reliance on any such content, goods or services available on or through any such third party web sites or services.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>We strongly advise you to read the terms and conditions and privacy policies of any third party web sites or services that you visit.<o:p></o:p></span></p> <p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Termination</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>If you wish to terminate your account, you may simply discontinue using the Service.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Governing Law</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>These Terms shall be governed and construed in accordance with the laws of Washington, United States, without regard to its conflict of law provisions.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service, and supersede and replace any prior agreements we might have had between us regarding the Service.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Changes</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will provide at least 30 days notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use the Service.<o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>Contact Us</span></b><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'><o:p></o:p></span></p><p class=MsoNormal style='margin-bottom:12.0pt;line-height:14.0pt;mso-pagination:none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:12.0pt;font-family:'Times-Roman','serif';mso-bidi-font-family:Times-Roman;color:black'>If you have any questions about these Terms, please contact us.<o:p></o:p></span></p></div></body></html>";
    [self.btnLogout addTarget:self action:@selector(logout) forControlEvents:UIControlEventTouchUpInside];
    [self.btnAgree addTarget:self action:@selector(agreeTerm) forControlEvents:UIControlEventTouchUpInside];
    NSAttributedString *attr = [[NSAttributedString alloc] initWithString:term];
    [_txtPolicy setAttributedText:attr];
    self.txtPolicy.hidden = YES;
    [self.webAgree loadHTMLString:term baseURL:[[NSBundle mainBundle] bundleURL]];
    // Do any additional setup after loading the view.
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}
-(void) logout
{
    NSUserDefaults *preference = [NSUserDefaults standardUserDefaults];
    [preference setObject:@"" forKey:@"id"];
    [preference setObject:@"" forKey:@"name"];
    [preference setObject:@"" forKey:@"email"];
    [preference setObject:@"" forKey:@"password"];
    [preference setObject:@"0" forKey:@"iscontact"];
    [preference setObject:@"0" forKey:@"isemail"];
    [preference setObject:@"0" forKey:@"issms"];
    [preference setObject:@"0" forKey:@"iscalendar"];
    [preference synchronize];
    
    ViewController *viewController = [[UIStoryboard storyboardWithName:@"Main" bundle:nil] instantiateViewControllerWithIdentifier:@"ViewController"];
    [self presentViewController:viewController animated:YES completion:nil];
}
-(void) agreeTerm
{
    NSUserDefaults *preference = [NSUserDefaults standardUserDefaults];
    [preference setObject:@"1" forKey:@"login"];
    [preference synchronize];
    
    HomeViewController *viewController = [[UIStoryboard storyboardWithName:@"Main" bundle:nil] instantiateViewControllerWithIdentifier:@"HomeViewController"];
    [self presentViewController:viewController animated:YES completion:nil];
}
/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
